<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- changed class -> id -->
    <div id="main"></div>
    <div id="main2"></div>
    
</body>
<style>
    .main, #main {
        width: 600px;
        height: 400px;
    }
    #main2 {
        width: 600px;
        height: 400px;
    }
</style>
<script type="module">

    const integrations = require('../common/integrations.js');
    
    integrations.callPyFunc('getDataFile', ['10', 'GL_PR_PF_1902604.nc']).then(result => {
        let x = result;
        console.log("Result from Python function:", x);
    }).catch(error => {
        console.error("Error:", error);
    });

    // use an ESM build via CDN (or a relative ./node_modules path served by your dev server)
    import * as echarts from 'https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.esm.js';

    // Create the echarts instance
    var myChart = echarts.init(document.getElementById('main'));
    var myChart2 = echarts.init(document.getElementById('main2'));

    // Draw the chart
    myChart.setOption({
      title: { text: 'ECharts Getting Started Example' },
      tooltip: {},
      xAxis: { data: ['shirt', 'cardigan', 'chiffon', 'pants', 'heels', 'socks'] },
      yAxis: {},
      series: [{ name: 'sales', type: 'line', data: [5, 20, 36, 10, 10, 20, 20, 36, 10, 10, 20] }]
    });

    myChart2.setOption({
      title: { text: 'ECharts Getting Started Example 2' },
      tooltip: {},
      xAxis: { data: ['shirt', 'cardigan', 'chiffon', 'pants', 'heels', 'socks'] },
      yAxis: {},
      series: [{ name: 'sales', type: 'bar', data: [15, 10, 26, 30, 40, 50, 20, 36, 10, 10, 20] }]
    });

    // This is what we have been looking for.
    myChart.group = 'group1';
    myChart2.group = 'group1';
    echarts.connect('group1');
</script>
</html>